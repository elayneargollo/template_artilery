config:
  target: "http://localhost:5221/Arquivo"
  phases:
    - duration: 60
      arrivalCount: 5
  processor: "./script-send-file.js"

  # before:
  #   flow:
  #     - log: "Obter token"
  #     - post:
  #         url: "http://localhost:8090/api/account/login"
  #         json:
  #           username: "elayne"
  #           password: "develop123"
  #         capture:
  #           - json: $.id_token
  #             as: token

scenarios:
  - flow:
      - log: "Upload for file"
      - post:
          url: "http://localhost:5221/Arquivo/UploadFile"
          # headers:
          #   authorization: "Bearer {{ token }}"
          beforeRequest: "setFile"
          formData:
            file:
              value: "{{ fileContent }}"
              options:
                filename: 'diploma.pdf'
                contentType: 'text/plain'